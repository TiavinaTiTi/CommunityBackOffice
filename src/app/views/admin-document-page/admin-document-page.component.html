<div class="row h-100 pb-4 pb-lg-0">
  <div class="col-12 col-lg-3 border-end border-secondary pt-4">
    <div class="">
      <h4>Filter</h4>
      <p class="fs-7">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Id, nemo.
      </p>
      <div class="d-flex gap-2">
        <a href="" class="btn bg-dark-2 text-warning shadow-lg" title="Publication">
          <i class="bi-plus-lg"></i>
        </a>
        <a href="" class="btn bg-dark-2 text-light shadow-lg" title="Message">
          <i class="bi-envelope"></i>
        </a>
        <a href="" class="btn bg-dark-2 text-light shadow-lg" title="Signal">
          <i class="bi-exclamation-diamond-fill"></i>
        </a>
      </div>
    </div>
    <div class="mt-2">
      <div class="card bg-dark-2 text-light">
        <div class="card-body">
          <h5>Calendar</h5>
          <p class="fs-7">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur, optio.</p>
          <div class="">
            <label for="dateIn" class="form-label">
              <i class="bi-calendar2-event"></i>
              Date event
            </label>
            <input type="date" class="form-control bg-dark text-light" name="" id="dateIn">
          </div>
          <div class="mt-2">
            <label for="recent" class="form-label">
              <i class="bi-chevron-expand"></i>
              Recent
            </label>
            <select id="recent" class="form-select bg-dark text-light">
              <option>--</option>
              <option>24 heures</option>
              <option>3 jours</option>
              <option>2 semaines</option>
              <option>1 mois</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-12 col-lg-6 pt-4">
    <div class="">
      <div class="position-relative d-flex justify-content-center align-items-center">
        <div class="position-absolute start-0 ms-3">
          <i class="bi-search text-secondary"></i>
        </div>
        <input type="text" [(ngModel)]="search" (input)="searchDocument()" class="ps-5 form-control border-0 rounded-2 bg-dark-2 text-white" placeholder="Recherche...">
        <button (click)="searchReset()" class="bg-dark border-white border-0 rounded-circle position-absolute end-0 mx-1" style="width: 30px; height: 30px">
          <i class="bi-x-lg text-secondary"></i>
        </button>
      </div>
    </div>
    <div class="text-secondary mt-1">
      @if (search){
        Search result for
        <span class="text-light fw-semibold">" {{ search }} "</span>
      }
    </div>
    <div class="mt-3">
      @if(documents$ | async; as documents){
        <div class="d-flex flex-column gap-2">
          @for(item of documents; track item.id){
            <div class="card border border-secondary bg-dark-2 text-light h-100">
              <div class="d-flex gap-2 position-absolute end-0 m-1">
                <a href="" class="btn btn-sm bg-dark-2 rounded-circle text-light">
                  <i class="bi-filetype-doc"></i>
                </a>
                <a href="" class="btn btn-sm bg-dark-2 rounded-circle text-light">
                  <i class="bi-github"></i>
                </a>
                @if (item.id != idDocs){
                  <button (click)="showDocs(item.id)" class="btn btn-sm bg-dark-2 rounded-circle text-light">
                    <i class="bi-chevron-down"></i>
                  </button>
                }
              </div>
              <div class="card-header bg-dark">
                <div class="card-title">
                  <h4 class="fs-6">{{ item.theme }}</h4>
                </div>
              </div>
              <div class="card-body">
                <div class="">
                  <div class="">
                    <div class="card rounded-0 border-0 bg-transparent text-light">
                      @if (item.id === idDocs){
                        <div class="d-flex flex-wrap">
                          <svg class="bg-secondary me-2 border border-2" width="50" height="50"></svg>
                          <div class="">
                            <div class="card-text fw-bold text-warning">
                              {{ item.intervening }}
                            </div>
                            <div class="card-text fs-7">{{ item.post }}</div>
                          </div>
                        </div>
                      }
                      <div class="">
                      </div>
                    </div>
                  </div>
                  <div class="">
                    <div class="">
                      <i class="bi-geo-alt text-warning me-1"></i>
                      {{ item.location }}
                    </div>
                    <div class="">
                      <i class="bi-calendar2-event text-warning me-1"></i>
                      {{ item.date | date: 'd MMMM y' }}
                      <i class="bi-clock text-warning"></i>
                      {{ item.time.hours + 'h' + item.time.minutes + 'min'}}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          }
        </div>
      }
    </div>
    <div class="pt-2">
      <app-pageable></app-pageable>
    </div>
  </div>
  <div class="col-12 col-lg-3 border-start border-secondary pt-4">
    <h4>Analyse</h4>
    <p class="fs-7">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Earum, quas!</p>
    <div class="d-flex flex-column gap-2">
      <app-item-card-graph [title]="'Activity'"></app-item-card-graph>
      <app-item-card-graph [title]="'Member'"></app-item-card-graph>
    </div>
  </div>
</div>
